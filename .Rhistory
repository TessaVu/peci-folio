library(tidyverse)
library(tidycensus)
library(sf)
library(leaflet)
library(scales)
# Selected ACS data from 2023 5-year survey.
acs_data <- read.csv("data/data_overview.csv")
View(acs_daata)
View(acs_data)
colnames(acs_data)
# Selected ACS data from 2023 5-year survey.
acs_data <- read.csv("data/data_overview.csv")
philly_tracts <- st_read("data\philly_tracts\philly_tracts.shp")
# Selected ACS data from 2023 5-year survey.
acs_data <- read.csv("data/data_overview.csv")
philly_tracts <- st_read("data\philly_tracts\philly_tracts.shp")
library(tidyverse)
library(tidycensus)
library(sf)
library(leaflet)
library(scales)
# Selected ACS data from 2023 5-year survey.
acs_data <- read.csv("data/data_overview.csv")
philly_tracts <- st_read("data\philly_tracts\philly_tracts.shp")
acs_data <- read.csv("data/data_overview.csv")
philly_tracts <- st_read("data\philly_tracts\philly_tracts.shp")
colnames(acs_data)
# Shapefile data.
philly_tracts <- read.csv("data/philly_tracts/philly_tracts.shp")
# Shapefile data.
philly_tracts <- st_read("data/philly_tracts/philly_tracts.shp")
View(philly_tracts)
philly_tracts <- philly_tracts %>%
filter(COUNTYFP = "101")
philly_tracts <- philly_tracts %>%
filter(COUNTYFP = 101)
philly_tracts <- philly_tracts %>%
filter(COUNTYFP == "101")
View(philly_tracts)
st_crs(philly_tracts)
map_tracts <- st_join(philly_tracts, acs_data)
map_tracts <- left_join(philly_tracts, acs_data, by = "GEOID")
acs_data <- as.character(acs_data$GEOID)
map_tracts <- left_join(philly_tracts, acs_data, by = "GEOID")
class(acs_data$GEOID)
print(class(acs_data$GEOID))
map_tracts <- left_join(philly_tracts, acs_data, by = "GEOID")
acs_data <- data.frame(key_column = GEOID)
library(tidyverse)
library(tidycensus)
library(sf)
library(leaflet)
library(scales)
# Selected ACS data from 2023 5-year survey.
acs_data <- read.csv("data/data_overview.csv")
acs_data <- as.character(acs_data$GEOID)
# Shapefile data.
philly_tracts <- st_read("data/philly_tracts/philly_tracts.shp")
philly_tracts <- philly_tracts %>%
filter(COUNTYFP == "101")
map_tracts <- left_join(philly_tracts, acs_data, by = "GEOID")
acs_data
# Selected ACS data from 2023 5-year survey.
acs_data <- read.csv("data/data_overview.csv")
acs_data$GEOID <- as.character(acs_data$GEOID)
# Shapefile data.
philly_tracts <- st_read("data/philly_tracts/philly_tracts.shp")
philly_tracts <- philly_tracts %>%
filter(COUNTYFP == "101")
map_tracts <- left_join(philly_tracts, acs_data, by = "GEOID")
View(map_tracts)
View(map_tracts)
map_tracts <- map_tracts %>%
st_transform(., crs = 3857)
map_tracts
preliminary_map
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 10)
preliminary_map
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 15)
preliminary_map
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 11)
preliminary_map
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 12)
preliminary_map
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 12)
# Population density.
preliminary_map <- preliminary_map %>%
addPolygons(
fillColor = ~colorQuantile("YlGnBu", pop_density)(pop_density),
weight = 1,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.7,
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.9,
bringToFront = TRUE
),
popup = ~paste0(
"Tract: ", NAME, "<br>",
"Total Population: ", TotalPopulation, "<br>",
"Median Income: $", MedianIncome
),
group = "Total Population" # Assign to a layer group
)
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 12)
# Population density.
preliminary_map <- preliminary_map %>%
addPolygons(
fillColor = ~colorQuantile("YlGnBu", pop_density)(pop_density),
weight = 1,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.7,
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.9,
bringToFront = TRUE
),
popup = ~paste0(
"Tract: ", NAME, "<br>",
"Total Population: ", pop_density, "<br>",
"Median Income: $", med_h_inc
),
group = "Total Population" # Assign to a layer group
)
preliminary_map
View(map_tracts)
preliminary_map
map_tracts <- map_tracts %>%
st_set_crs(4326)
# Shapefile data.
philly_tracts <- st_read("data/philly_tracts/philly_tracts.shp")
philly_tracts <- philly_tracts %>%
filter(COUNTYFP == "101")
map_tracts <- left_join(philly_tracts, acs_data, by = "GEOID")
map_tracts <- map_tracts %>%
st_set_crs(4326)
#st_transform(., crs = 3857)
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 12)
# Population density.
preliminary_map <- preliminary_map %>%
addPolygons(
fillColor = ~colorQuantile("YlGnBu", pop_density)(pop_density),
weight = 1,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.7,
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.9,
bringToFront = TRUE
),
popup = ~paste0(
"Tract: ", NAME, "<br>",
"Total Population: ", pop_density, "<br>",
"Median Income: $", med_h_inc
),
group = "Total Population" # Assign to a layer group
)
preliminary_map
# Shapefile data.
philly_tracts <- st_read("data/philly_tracts/philly_tracts.shp")
philly_tracts <- philly_tracts %>%
filter(COUNTYFP == "101")
map_tracts <- left_join(philly_tracts, acs_data, by = "GEOID")
map_tracts <- map_tracts %>%
st_set_crs(4326) %>%
st_transform(., crs = 3857)
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 12)
# Population density.
preliminary_map <- preliminary_map %>%
addPolygons(
fillColor = ~colorQuantile("YlGnBu", pop_density)(pop_density),
weight = 1,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.7,
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.9,
bringToFront = TRUE
),
popup = ~paste0(
"Tract: ", NAME, "<br>",
"Total Population: ", pop_density, "<br>",
"Median Income: $", med_h_inc
),
group = "Total Population" # Assign to a layer group
)
preliminary_map
# Shapefile data.
philly_tracts <- st_read("data/philly_tracts/philly_tracts.shp")
philly_tracts <- philly_tracts %>%
filter(COUNTYFP == "101")
map_tracts <- left_join(philly_tracts, acs_data, by = "GEOID")
map_tracts <- map_tracts %>%
st_set_crs(4326)
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 12)
# Population density.
preliminary_map <- preliminary_map %>%
addPolygons(
fillColor = ~colorQuantile("YlGnBu", pop_density)(pop_density),
weight = 1,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.7,
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.9,
bringToFront = TRUE
),
popup = ~paste0(
"Tract: ", NAME, "<br>",
"Total Population: ", pop_density, "<br>",
"Median Income: $", med_h_inc
),
group = "Total Population" # Assign to a layer group
)
preliminary_map
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 12)
# Population density.
preliminary_map <- preliminary_map %>%
addPolygons(
fillColor = ~colorQuantile("YlGnBu", pop_density)(pop_density),
weight = 1,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.7,
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.9,
bringToFront = TRUE
),
popup = ~paste0(
"Tract: ", NAME, "<br>",
"Total Population: ", pop_density, "<br>",
"Median Income: $", med_h_inc
),
group = "Population Density"
)
preliminary_map
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 12)
# Population density.
preliminary_map <- preliminary_map %>%
addPolygons(
fillColor = ~colorQuantile("YlGnBu", pop_density)(pop_density),
weight = 1,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.7,
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.8,
bringToFront = TRUE
),
popup = ~paste0(
"Tract: ", NAME, "<br>",
"Total Population: ", pop_density, "<br>",
"Median Income: $", med_h_inc
),
group = "Population Density"
)
preliminary_map
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 12)
# Population density.
preliminary_map <- preliminary_map %>%
addPolygons(
fillColor = ~colorQuantile("YlGnBu", pop_density)(pop_density),
weight = 1,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.8,
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.8,
bringToFront = TRUE
),
popup = ~paste0(
"Tract: ", NAME, "<br>",
"Total Population: ", pop_density, "<br>",
"Median Income: $", med_h_inc
),
group = "Population Density"
)
preliminary_map
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 12)
# Population density.
preliminary_map <- preliminary_map %>%
addPolygons(
fillColor = ~colorQuantile("YlGnBu", pop_density)(pop_density),
weight = 1,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.75,
highlightOptions = highlightOptions(
weight = 2,
color = "#666",
dashArray = "",
fillOpacity = 0.75,
bringToFront = TRUE
),
popup = ~paste0(
"Tract: ", NAME, "<br>",
"Total Population: ", pop_density, "<br>",
"Median Income: $", med_h_inc
),
group = "Population Density"
)
preliminary_map
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 12)
# Population density.
preliminary_map <- preliminary_map %>%
addPolygons(
fillColor = ~colorQuantile("YlGnBu", pop_density)(pop_density),
weight = 1,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.75,
highlightOptions = highlightOptions(
weight = 2,
color = "darkgray",
dashArray = "",
fillOpacity = 0.75,
bringToFront = TRUE
),
popup = ~paste0(
"Tract: ", NAME, "<br>",
"Total Population: ", pop_density, "<br>",
"Median Income: $", med_h_inc
),
group = "Population Density"
)
preliminary_map
# Leaflet mapping.
# Base layer.
preliminary_map <- leaflet(map_tracts) %>%
addProviderTiles(providers$CartoDB.Positron) %>%
setView(lng = -75.1638, lat = 39.9523, zoom = 12)
# Population density.
preliminary_map <- preliminary_map %>%
addPolygons(
fillColor = ~colorQuantile("YlGnBu", pop_density)(pop_density),
weight = 1,
opacity = 1,
color = "white",
dashArray = "3",
fillOpacity = 0.75,
highlightOptions = highlightOptions(
weight = 2,
color = "black",
dashArray = "",
fillOpacity = 0.75,
bringToFront = TRUE
),
popup = ~paste0(
"Tract: ", NAME, "<br>",
"Total Population: ", pop_density, "<br>",
"Median Income: $", med_h_inc
),
group = "Population Density"
)
preliminary_map
